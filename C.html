<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Camera</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script> window.FontAwesomeConfig = { autoReplaceSvg: 'nest'};</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        ::-webkit-scrollbar { display: none; }
        @keyframes pulse-dot {
          0%, 100% { transform: scale(1); opacity: 1; }
          50% { transform: scale(1.1); opacity: 0.8; }
        }
        .animate-pulse-dot {
          animation: pulse-dot 2s infinite ease-in-out;
        }
        @keyframes slide-in-bottom {
          from { transform: translateY(100%); opacity: 0; }
          to { transform: translateY(0); opacity: 1; }
        }
        .animate-slide-in-bottom {
          animation: slide-in-bottom 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;
        }
        @keyframes fade-in {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        .animate-fade-in {
          animation: fade-in 0.5s ease-in-out;
        }
    </style>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              'inter': ['Inter', 'sans-serif'],
            },
            colors: {
              'primary': '#6366F1',
              'primary-dark': '#4F46E5',
              'secondary': '#10B981',
              'accent': '#34D399',
              'warning': '#F59E0B',
              'danger': '#EF4444'
            }
          }
        }
      }
    </script>
</head>
<body class="font-inter bg-black overflow-hidden" style="width: 375px; height: 812px; margin: 0 auto;">

<div id="camera-view-container" class="relative w-full h-full bg-black flex flex-col">
  
  <!-- Camera Feed Background -->
  <div id="camera-feed" class="absolute inset-0 w-full h-full">
    <img class="w-full h-full object-cover" src="https://storage.googleapis.com/uxpilot-auth.appspot.com/b37f3f1d6a-62e00f20916fddaea2d1.png" alt="A person doing lunges exercise in a modern gym, side view, athletic pose, realistic photo" />
  </div>

  <!-- Pose Estimation Overlay -->
  <div id="pose-overlay" class="absolute inset-0 w-full h-full animate-fade-in" style="animation-delay: 0.5s;">
    <svg class="w-full h-full" viewBox="0 0 375 812" preserveAspectRatio="xMidYMid slice">
      <!-- Ideal Form (Static Guide) - Light Gray -->
      <g id="ideal-form-guide" stroke="rgba(255, 255, 255, 0.3)" stroke-width="2.5" fill="rgba(255, 255, 255, 0.3)" stroke-dasharray="4 4">
          <!-- Head -->
          <circle cx="190" cy="220" r="7"></circle>
          <!-- Neck to Shoulders -->
          <line x1="190" y1="227" x2="190" y2="260"></line>
          <circle cx="190" cy="260" r="7"></circle>
          <!-- Shoulders -->
          <line x1="170" y1="260" x2="210" y2="260"></line>
          <circle cx="170" cy="260" r="7"></circle>
          <circle cx="210" cy="260" r="7"></circle>
          <!-- Arms -->
          <line x1="170" y1="260" x2="160" y2="310"></line>
          <line x1="160" y1="310" x2="155" y2="360"></line>
          <line x1="210" y1="260" x2="220" y2="310"></line>
          <line x1="220" y1="310" x2="225" y2="360"></line>
          <circle cx="160" cy="310" r="7"></circle>
          <circle cx="155" cy="360" r="7"></circle>
          <circle cx="220" cy="310" r="7"></circle>
          <circle cx="225" cy="360" r="7"></circle>
          <!-- Spine -->
          <line x1="190" y1="260" x2="190" y2="360"></line>
          <circle cx="190" cy="360" r="7"></circle>
          <!-- Hips -->
          <line x1="175" y1="360" x2="205" y2="360"></line>
          <circle cx="175" cy="360" r="7"></circle>
          <circle cx="205" cy="360" r="7"></circle>
          <!-- Left Leg (Front - bent) -->
          <line x1="175" y1="360" x2="165" y2="460"></line>
          <line x1="165" y1="460" x2="155" y2="560"></line>
          <circle cx="165" cy="460" r="7"></circle>
          <circle cx="155" cy="560" r="7"></circle>
          <!-- Right Leg (Back - extended) -->
          <line x1="205" y1="360" x2="220" y2="480"></line>
          <line x1="220" y1="480" x2="230" y2="580"></line>
          <circle cx="220" cy="480" r="7"></circle>
          <circle cx="230" cy="580" r="7"></circle>
      </g>

      <!-- User's Live Pose - Green/Red -->
      <g id="user-pose-live" stroke="#34D399" stroke-width="3" fill="#34D399" stroke-linecap="round">
        <!-- Head -->
        <circle cx="185" cy="215" r="8"></circle>
        <!-- Neck to Shoulders -->
        <line x1="185" y1="223" x2="185" y2="255"></line>
        <circle cx="185" cy="255" r="8"></circle>
        <!-- Shoulders -->
        <line x1="165" y1="255" x2="205" y2="255"></line>
        <circle cx="165" cy="255" r="8"></circle>
        <circle cx="205" cy="255" r="8"></circle>
        <!-- Left Arm -->
        <line x1="165" y1="255" x2="155" y2="305"></line>
        <line id="left-arm-line" x1="155" y1="305" x2="150" y2="355"></line>
        <circle cx="155" cy="305" r="8"></circle>
        <circle cx="150" cy="355" r="8"></circle>
        <!-- Right Arm -->
        <line x1="205" y1="255" x2="215" y2="305"></line>
        <line x1="215" y1="305" x2="220" y2="355"></line>
        <circle cx="215" cy="305" r="8"></circle>
        <circle cx="220" cy="355" r="8"></circle>
        <!-- Spine -->
        <line id="spine-line" x1="185" y1="255" x2="185" y2="355"></line>
        <circle cx="185" cy="355" r="8"></circle>
        <!-- Hips -->
        <line x1="170" y1="355" x2="200" y2="355"></line>
        <circle cx="170" cy="355" r="8"></circle>
        <circle cx="200" cy="355" r="8"></circle>
        <!-- Left Leg (Front - bent) -->
        <line id="left-thigh-line" x1="170" y1="355" x2="160" y2="455"></line>
        <line x1="160" y1="455" x2="150" y2="555"></line>
        <circle cx="160" cy="455" r="8"></circle>
        <circle cx="150" cy="555" r="8" class="animate-pulse-dot"></circle>
        <!-- Right Leg (Back - extended) -->
        <line id="right-thigh-line" x1="200" y1="355" x2="215" y2="475"></line>
        <line x1="215" y1="475" x2="225" y2="575"></line>
        <circle cx="215" cy="475" r="8"></circle>
        <circle cx="225" cy="575" r="8"></circle>
      </g>
    </svg>
  </div>

  <!-- Gradient Overlays for UI readability -->
  <div class="absolute top-0 left-0 right-0 h-40 bg-gradient-to-b from-black/60 to-transparent"></div>
  <div class="absolute bottom-0 left-0 right-0 h-64 bg-gradient-to-t from-black/70 to-transparent"></div>

  <!-- Header UI -->
  <header id="camera-header" class="absolute top-0 left-0 right-0 p-5 pt-12 flex justify-between items-center z-10 animate-fade-in">
    <div class="flex items-center gap-3">
      <div class="w-2.5 h-2.5 bg-danger rounded-full animate-pulse"></div>
      <span class="font-semibold text-white tracking-wider">REC 00:17</span>
    </div>
    <button id="close-camera-btn" class="w-10 h-10 bg-white/10 rounded-full flex items-center justify-center backdrop-blur-sm hover:bg-white/20 transition-colors" onclick="window.location.href='home.html'">
      <i class="fa-solid fa-xmark text-white text-xl"></i>
    </button>
  </header>
  
  <!-- Main content area -->
  <main class="flex-1 flex flex-col justify-between z-10">
    <!-- Top feedback area -->
    <div id="feedback-area" class="text-center pt-28 px-6 animate-fade-in" style="animation-delay: 0.2s;">
      <h1 class="text-3xl font-bold text-white mb-2">Lunge Exercise</h1>
      <p id="ai-feedback-text" class="text-lg font-medium text-accent h-8 transition-all">Keep it up!</p>
    </div>
    
    <!-- Bottom controls -->
    <div id="controls-area" class="w-full pb-8 px-5 animate-slide-in-bottom">
        <div class="flex justify-around items-center mb-6 bg-black/30 backdrop-blur-md p-4 rounded-2xl">
            <div class="text-center">
                <div class="text-sm font-medium text-gray-300">REPS</div>
                <div id="rep-count" class="text-4xl font-bold text-white">12</div>
            </div>
            <div class="h-10 w-px bg-white/20"></div>
            <div class="text-center">
                <div class="text-sm font-medium text-gray-300">ACCURACY</div>
                <div id="accuracy-score" class="text-4xl font-bold text-accent">92<span class="text-2xl">%</span></div>
            </div>
            <div class="h-10 w-px bg-white/20"></div>
            <div class="text-center">
                <div class="text-sm font-medium text-gray-300">CALORIES</div>
                <div id="calorie-count" class="text-4xl font-bold text-white">8</div>
            </div>
        </div>
        <div class="flex items-center justify-center gap-8">
            <button class="w-16 h-16 bg-white/10 rounded-full flex items-center justify-center backdrop-blur-sm hover:bg-white/20 transition-colors">
                <i class="fa-solid fa-camera-rotate text-white text-2xl"></i>
            </button>
            <button id="record-button" class="w-20 h-20 bg-white rounded-full flex items-center justify-center shadow-lg transform hover:scale-105 transition-transform">
                <div class="w-16 h-16 bg-danger rounded-full"></div>
            </button>
            <button class="w-16 h-16 bg-white/10 rounded-full flex items-center justify-center backdrop-blur-sm hover:bg-white/20 transition-colors">
                <i class="fa-solid fa-ellipsis text-white text-2xl"></i>
            </button>
        </div>
    </div>
  </main>

</div>

<script>
    window.addEventListener('load', function() {
        const feedbackText = document.getElementById('ai-feedback-text');
        const spineLine = document.getElementById('spine-line');
        const leftThighLine = document.getElementById('left-thigh-line');
        const rightThighLine = document.getElementById('right-thigh-line');
        const accuracyScore = document.getElementById('accuracy-score');

        const feedbackMessages = [
            { text: 'Keep your torso upright!', color: 'text-warning', lineColor: '#F59E0B', accuracy: 85, targetLine: 'spine' },
            { text: 'Perfect form!', color: 'text-accent', lineColor: '#34D399', accuracy: 97, targetLine: 'all' },
            { text: 'Lower your back knee more!', color: 'text-warning', lineColor: '#F59E0B', accuracy: 88, targetLine: 'thigh' },
            { text: 'Excellent depth!', color: 'text-accent', lineColor: '#34D399', accuracy: 95, targetLine: 'all' },
            { text: 'Front knee aligned!', color: 'text-accent', lineColor: '#34D399', accuracy: 93, targetLine: 'all' },
        ];

        let messageIndex = 0;

        function updateFeedback() {
            const currentMessage = feedbackMessages[messageIndex];
            
            feedbackText.classList.remove('text-accent', 'text-warning', 'text-danger');
            feedbackText.textContent = currentMessage.text;
            feedbackText.classList.add(currentMessage.color);
            
            spineLine.setAttribute('stroke', '#34D399');
            leftThighLine.setAttribute('stroke', '#34D399');
            rightThighLine.setAttribute('stroke', '#34D399');
            
            if (currentMessage.targetLine === 'spine') {
                spineLine.setAttribute('stroke', currentMessage.lineColor);
            } else if (currentMessage.targetLine === 'thigh') {
                leftThighLine.setAttribute('stroke', currentMessage.lineColor);
                rightThighLine.setAttribute('stroke', currentMessage.lineColor);
            }
            
            accuracyScore.textContent = currentMessage.accuracy;
            accuracyScore.innerHTML += '<span class="text-2xl">%</span>';
            
            messageIndex = (messageIndex + 1) % feedbackMessages.length;
        }

        setInterval(updateFeedback, 3000);
    });
</script>

</body>
</html>